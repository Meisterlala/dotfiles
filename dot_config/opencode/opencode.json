{
  "$schema": "https://opencode.ai/config.json",
  "theme": "catppuccin",

  "small_model": "github-copilot/gpt-4o",

  "agent": {
    "commit-review": {
      "description": "Review the current staged git changes. Provide feedback on code quality, style, and potential issues.",
      "prompt": "You are a senior software engineer reviewing the following git changes. Provide constructive feedback on code quality, style, and potential issues. Suggest improvements where necessary.",
      "permission": {
        "write": "ask",
        "edit": "ask"
      }
    }
  },
  "provider": {
    "cerebro": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Cerebro Arbeit",
      "options": {
        "baseURL": "https://chat.cerebroai.de/api"
      },
      "models": {
        "gpt-5.2": {
          "name": "gpt-5.2",
          "limit": {
            "context": 400000,
            "output": 100000
          },
          "cost": {
            "cache_read": 0.175,
            "input": 1.75,
            "output": 14
          },
          "reasoning": true,
          "family": "gpt",
          "tool_call": true
        }
      }
    }
  },

  "watcher": {
    "ignore": ["node_modules/**", "dist/**", ".git/**"]
  },
  "permission": {
    "read": "allow",
    "grep": "allow",
    "list": "allow",
    "edit": "allow",
    "webfetch": "allow",
    "bash": {
      "*": "ask",
      "sudo*": "deny",

      "./scripts/validate.sh *": "allow",
      "./scripts/list-http-routes.sh": "allow",
      "./scripts/list-active-alerts.sh *": "allow",
      "./scripts/connectivity_test.py *": "allow",
      "./scripts/verify-http-routes.sh": "allow",
      "./scripts/verify-public-auth.sh": "allow",
      "./scripts/verify-sops.sh": "allow",
      "./scripts/prometheus-query.sh": "allow",
      "./scripts/check-status.ps1": "allow",
      "./scripts/list-namespace-resources.ps1": "allow",

      "awk *": "allow",
      "cat *": "allow",
      "cd *": "allow",
      "curl *": "allow",
      "date *": "allow",
      "dig *": "allow",
      "find *": "allow",
      "flux check *": "allow",
      "flux get *": "allow",
      "flux logs *": "allow",
      "flux reconcile *": "allow",
      "git branch *": "allow",
      "git diff *": "allow",
      "git log *": "allow",
      "git show *": "allow",
      "git status *": "allow",
      "grep *": "allow",
      "head *": "allow",
      "helm get *": "allow",
      "helm link *": "allow",
      "helm list *": "allow",
      "helm repo *": "allow",
      "helm show *": "allow",
      "helm status *": "allow",
      "history *": "allow",
      "hubble *": "allow",
      "jq *": "allow",
      "kubectl api-resources *": "allow",
      "kubectl auth can-i *": "allow",
      "kubectl debug *": "allow",
      "kubectl describe *": "allow",
      "kubectl diff *": "allow",
      "kubectl events *": "allow",
      "kubectl explain *": "allow",
      "kubectl get *": "allow",
      "kubectl logs *": "allow",
      "kubectl top *": "allow",
      "kustomize build *": "allow",
      "ls *": "allow",
      "mkdir *": "allow",
      "pwsh -NoProfile ./scripts/validate.ps1": "allow",
      "rg *": "allow",
      "sed *": "allow",
      "sort *": "allow",
      "tail *": "allow",
      "tar *": "allow",
      "touch *": "allow",
      "tree *": "allow",
      "uniq *": "allow",
      "sleep *": "allow",
      "unzip *": "allow",
      "wc *": "allow",
      "xargs *": "allow",
      "yq *": "allow"
    }
  }
}
